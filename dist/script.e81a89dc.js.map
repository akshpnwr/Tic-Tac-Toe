{"mappings":"0SA4FkB,eAzFhB,SAAAA,IAAc,IAAAC,EAAAC,kGAAAC,CAAAD,KAAAF,GAAAI,EAAAF,KAAA,QAFNG,SAASC,cAAc,UAEjBF,EAAAF,KAAA,YA4CH,SAAUK,EAAYC,GAI/B,IAHYD,EAAWD,cAAc,OAGrC,CAEA,IAAMG,EAASP,KAAKQ,gBAAgBF,GAEpCD,EAAWI,mBAAmB,aAAcF,GAE5C,IAAMG,EAAKC,OAAON,EAAWO,QAAQF,IAErCV,KAAKa,aAAaC,MAAMC,KAAKL,GAE7BV,KAAKgB,gBA1DOd,EAAAF,KAAA,mBAiEI,SAACM,GAAD,MAAA,iBAAAW,OAA2BX,EAA3B,sBAhEhBN,KAAKkB,QACLlB,KAAKmB,MAAMC,iBAAiB,SAAS,SAACC,GACpCtB,EAAKuB,UAAUD,MAEjBlB,SACGC,cAAc,aACdgB,iBAAiB,QAASpB,KAAKuB,SAASC,KAAKxB,8DAIhDA,KAAKyB,QAAU,EACfzB,KAAK0B,qBAAuB,CAC1B,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAGT1B,KAAK2B,SAAW,CACdC,KAAM,IACNd,MAAO,IAETd,KAAK6B,SAAW,CACdD,KAAM,IACNd,MAAO,sCAIDO,GACR,IAAMS,EAAUT,EAAEU,OACbD,EAAQE,UAAUC,SAAS,SAEhCjC,KAAKyB,UAEDzB,KAAKyB,QAAU,GAAM,EAAGzB,KAAKkC,SAASJ,EAAS,QAC9C9B,KAAKkC,SAASJ,EAAS,+CAqB5B,OAAO9B,KAAKyB,QAAU,GAAM,EAAIzB,KAAK6B,SAAW7B,KAAK2B,6CAMrD,IAAMQ,EAASnC,KAAKa,aAEhBsB,EAAOC,OAAS,GAGpBpC,KAAK0B,qBAAqBW,SAAQ,SAACC,GAC7BA,EAAKC,OAAM,SAACC,GAAD,OAAOL,EAAOrB,MAAM2B,SAASD,OAC1CE,YAAW,WACTC,MAAK,GAAA1B,OAAIkB,EAAOP,KAAX,gBACJ,2CAMP5B,KAAKkB,QACUf,SAASyC,iBAAiB,QAClCP,SAAQ,SAACQ,GAAD,OAAUA,EAAIC,UAAY","sources":["./script.js"],"sourcesContent":["class TicTacToe {\r\n  _grid = document.querySelector('.grid');\r\n\r\n  constructor() {\r\n    this._init();\r\n    this._grid.addEventListener('click', (e) => {\r\n      this._loadSign(e);\r\n    });\r\n    document\r\n      .querySelector('.new-game')\r\n      .addEventListener('click', this._newGame.bind(this));\r\n  }\r\n\r\n  _init() {\r\n    this._clicks = 0;\r\n    this._winningCombinations = [\r\n      [1, 2, 3],\r\n      [3, 6, 9],\r\n      [7, 8, 9],\r\n      [1, 4, 7],\r\n      [1, 5, 9],\r\n      [4, 5, 6],\r\n      [7, 8, 9],\r\n      [2, 5, 8],\r\n      [3, 5, 7],\r\n    ];\r\n\r\n    this._player1 = {\r\n      name: 'X',\r\n      moves: [],\r\n    };\r\n    this._player2 = {\r\n      name: 'O',\r\n      moves: [],\r\n    };\r\n  }\r\n\r\n  _loadSign(e) {\r\n    const clicked = e.target;\r\n    if (!clicked.classList.contains('box')) return;\r\n\r\n    this._clicks++;\r\n\r\n    if (this._clicks % 2 === 0) this._addSign(clicked, 'zero');\r\n    else this._addSign(clicked, 'cross');\r\n  }\r\n\r\n  _addSign = function (clickedBox, sign) {\r\n    const img = clickedBox.querySelector('img');\r\n\r\n    // Check if img already exists\r\n    if (img) return;\r\n\r\n    const markup = this._generateMarkup(sign);\r\n\r\n    clickedBox.insertAdjacentHTML('afterbegin', markup);\r\n\r\n    const id = Number(clickedBox.dataset.id);\r\n\r\n    this._getPlayer().moves.push(id);\r\n\r\n    this._checkWin();\r\n  };\r\n\r\n  _getPlayer() {\r\n    return this._clicks % 2 === 0 ? this._player2 : this._player1;\r\n  }\r\n\r\n  _generateMarkup = (sign) => `<img src=\"img/${sign}.svg\" alt=\"\" />`;\r\n\r\n  _checkWin() {\r\n    const player = this._getPlayer();\r\n\r\n    if (player.length < 3) return;\r\n\r\n    // Check for win\r\n    this._winningCombinations.forEach((comb) => {\r\n      if (comb.every((v) => player.moves.includes(v))) {\r\n        setTimeout(() => {\r\n          alert(`${player.name} won 👏😎`);\r\n        }, 300);\r\n      }\r\n    });\r\n  }\r\n\r\n  _newGame() {\r\n    this._init();\r\n    const allBox = document.querySelectorAll('.box');\r\n    allBox.forEach((box) => (box.innerHTML = ''));\r\n  }\r\n}\r\n\r\nconst ticTacToe = new TicTacToe();\r\n"],"names":["TicTacToe","_this","this","$e16b98a558ec4c044403bade87d68b4$var$_classCallCheck","$e16b98a558ec4c044403bade87d68b4$var$_defineProperty","document","querySelector","clickedBox","sign","markup","_generateMarkup","insertAdjacentHTML","id","Number","dataset","_getPlayer","moves","push","_checkWin","concat","_init","_grid","addEventListener","e","_loadSign","_newGame","bind","_clicks","_winningCombinations","_player1","name","_player2","clicked","target","classList","contains","_addSign","player","length","forEach","comb","every","v","includes","setTimeout","alert","querySelectorAll","box","innerHTML"],"version":3,"file":"script.e81a89dc.js.map"}